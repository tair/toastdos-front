<app-navbar></app-navbar>



<div class="mt-3 container-fluid">
    <div class="justify-content-md-center row">
        <div class="col-md-10 col-offset-4 page-card-container col">
            <div class="page-card card">
                <div class="card-header">
                    <div class="align-items-center row">
                        <div class="col"><span class="fa fa-file-text"></span> Curate Submission from
                            <a target="_blank" [href]="'https://orcid.org/' + submission.submitter.orcid_id">
                                {{submission.submitter.name}}
                                <span class="fa fa-external-link"></span>
                            </a>
                            submitted on {{getDate(submission.submitted_at) | date:"short"}}</div>
                    </div>
                </div>


                <div class="p-0 card-body">
                    <ul *ngIf="editing" class="list-group">
                        <li class="border-left-0 border-right-0 border-top-0 list-group-item">
                          <app-publication></app-publication>
                        </li>
                        <li class="border-left-0 border-right-0 border-top-0 list-group-item">
                            <app-genes></app-genes>
                        </li>
                        <li class="border-left-0 border-right-0 border-top-0 list-group-item">
                            <app-annotation-list></app-annotation-list>
                        </li>
                    </ul>
                    <ul *ngIf="!editing" class="list-group">
                        <app-submission-overview> </app-submission-overview>
                    </ul>
                </div>




                <div *ngIf="editing" class="submissionFooter card-footer">
                    <div class="row">
                        <div class="text-right align-self-center col">
                            <button type="button" class="btn-submit btn btn-success" (click)="reviewSubmission()">Review Changes
                             <span class="fa fa-chevron-right"></span></button>
                        </div>
                    </div>
                </div>
                <div *ngIf="!editing && !saved" class="submissionFooter card-footer">
                    <div class="row">
                      <div class="col-sm-3">
                        <button type="button" class="btn btn-warning" (click)="editSubmission()"><span class="fa fa-chevron-left"></span>Make Changes</button>
                      </div>
                      <div class="text-right align-self-center col">
                        <button type="button" class="btn-submit btn btn-success" (click)="submitSubmission()"><span class="fa fa-save"></span>Save Curations</button>
                      </div>
                    </div>
                </div>
                <div *ngIf="!editing && saved" class="submissionFooter card-footer">
                    <div class="row">
                      <div class="text-center col">
                        <a routerLink="/curation">
                            <button type="button" class="btn btn-success">Curate Another One!</button>
                        </a>
                      </div>
                    </div>
                </div>
            </div>




        </div>
    </div>
</div>
